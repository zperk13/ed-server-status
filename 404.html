<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Elite Dangerous Server Status</title>
	<style>
		body,
		main {
			width: 100dvw;
			height: 100dvh;
			padding: 0;
			margin: 0;
			color: #ff7100;
			background-color: black;
			display: flex;
			flex-flow: column nowrap;
			align-items: center;
		}
	</style>
</head>
<body>
	<main id="m">
		<h1 id="h">Loading...</h1>
	</main>
	<script>
		fetch("https://ed-server-status.orerve.net/").then(
			response => {
				if (response.ok) {
					response.json().then(
						data => {
							status = data["status"]
							message = data["message"]
							document.getElementById("h").textContent = "Status: " + status
							if (message) {
								document.getElementById("m").appendChild(
									Object.assign(document.createElement("h1"), {textContent: "Message: " + message})
								);
							}
						})
				} else {
					document.getElementById("h").textContent = "Failed to get status"
				}
			}
		).catch(
			error => {
				document.getElementById("h").textContent = "Error:\n" + error
			}
		)
	</script>
</body>
</html>
